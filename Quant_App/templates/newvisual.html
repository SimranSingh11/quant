{% extends 'base_layout.html' %}
{% load static %}
{% block content %}

<style>


div.graph {
  width: 400px;
  max-width:50%;
  /*background-color:white;*/
  padding:30px;
  border-radius: 6px;
  margin:10px;
  display:inline-block;
}

.graphTxt {
  display:inline-block;
  text-align: top;
  padding:30px;
  /*background-color:white;*/
  width: 800px;
  max-width:50%;
  height:406px;
  vertical-align: top;
  margin: 10px;
  border-radius: 6px;
}


    @import url("https://fonts.googleapis.com/css?family=Roboto:100,400");
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    *:before, *:after {
      box-sizing: inherit;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      padding: 24px 32px;
      font-family: 'Roboto', sans-serif;
      font-size: 16px;
      line-height: 1.5;
      color: #444;
    }
    
    h1 {
      margin-bottom: 20px;
      padding-bottom: 4px;
      border-bottom: 1px solid #ddd;
      font-size: 32px;
      font-weight: 100;
      color: #626262;
    }
    
    p {
      margin-bottom: 8px;
    }
    
    a {
      color: #2196f3;
    }
    
    input:focus {
      box-shadow: none;
      outline: 0;
    }
    input[type="text"] {
      width: 400px;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 3px;
    }
    
    ul {
      margin: 16px -16px;
    }
    ul li {
      display: inline-block;
      margin: 2px 20px;
    }
    
    /**
     * Code for checkboxes
     */
    .checkbox {
      position: relative;
      width: 1rem;
      height: 1rem;
      margin-right: .75rem;
      cursor: pointer;
      -webkit-appearance: none;
         -moz-appearance: none;
              appearance: none;
      outline: 0;
    
    }
    .checkbox:before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      z-index: 1;
      width: 100%;
      height: 100%;
      border: 2px solid #f2f2f2;
      -webkit-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
    }
    .checkbox:checked:before {
      height: 50%;
      -webkit-transform: rotate(-45deg);
              transform: rotate(-45deg);
      border-top-style: none;
      border-right-style: none;
    }
    .checkbox--red:checked:before {
      border-color: #f44336;
    }
    
    
    /**
    * Notice: Checkbox is styled via import of my other pen (https://codepen.io/fxm90/pen/JdmaeL)
    */
    .trigger input[type="checkbox"] + span {
      visibility: hidden;
      opacity: 0;
      -webkit-transition: visibility 0s linear 0.33s, opacity 0.33s linear;
      transition: visibility 0s linear 0.33s, opacity 0.33s linear;
    }
    .trigger input[type="checkbox"]:checked + span {
      visibility: visible;
      opacity: 1;
      -webkit-transition-delay: 0s;
              transition-delay: 0s;
    }
    
    .msg {
      display: block;
      margin-top: 8px;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 3px;
    }
    
    .container {
        width:400px;
        margin:0 auto;
    }



    </style>

<div class="page">

<!-- Update Page Title -->
<div class="page__title">
    <img src="{% static 'img/visualization.png' %}" class="page__title--pic">
    <span class="page__title--subHead">Vantage Quant</span>
    <span class="page__title--txt">Visualization</span>
</div>

<!-- Content Begins -->
<form method="post" class="rwd" action="visual" enctype="multipart/form-data">{% csrf_token %}

    <div class="output__option">
        <div class="output__option--name">Treatment</div>
        <div class="output__option--value">
        <select class="form-control select2" style="width: 50%;" id="treatment_id" name="treatment_id" onChange="getParam(this.value);">
            {% for treat in treatments %}
            {% load quantapp_extras %}
            <option value="{{ treat|mongo_id }}">
                {{ treat.treatment_name }}
            </option>
            {% endfor %}

    </select>
        </div>
        <div class="col-sm-2">
            <button type="submit" name="visualize" class="bttn bttn_pri">Submit</button>
        </div>


    </div>

</form>

<div class="card-body">
    <!-- <label>Combination Quartiles Q1</label> -->
    <input type="hidden" value="{{x_axis_treat}}" id="x_axis_treatment_list">

</div>

<div>
    <div class="graph" style = "width:600px; height:800px">
        
        <canvas id="dchart" width="200px" height="200px"></canvas>
    </div>
    <div class="graphTxt"style = "width:900px; height:800px">

      <p style="font-style: italic;">This the Graph represents Company wise Shareprice Appriciation On Q1 Quartiles</p>
      <p style="font-style: italic;">To View the data check the Check boxes.</p>
        <label for="myCheck">Click for Data Data:</label>
    
        <input type="checkbox" id="myCheck" onclick="myFunction()">
        <!-- <p id="text" style="display:none">{% autoescape off %} {{ treatment_df_altered }} {% endautoescape %}</p> -->
        <span id="text1" style="display: none;">
          <!-- <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%"> -->
          <div class="card-body">
            <table id="example" class="content-table" style="width:100%">
            <thead>

                <tr>
                    {% for column in Treatment_table_colums %}
                    <th>{{ column }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% if treatement_values %} {% for val in treatement_values %}
                <tr>
                    {% for v in val %}
                    <td>{{ v }}</td>
                    {% endfor %}
                </tr>

                {% endfor %} {% endif %}

            </tbody>
          </table>
          </div>
          </span>
        </div>
</div>



<!--  Combinational DFS-->
<div>
  <div class="graph"style = "width:600px; height:800px">

    <p style="font-style: italic;">This the Graph represents Combinationals Data on Quartiles based on Q1.</p>
    <p style="font-style: italic;">To View the data check the Check boxes.</p>
      <label for="myCheck1">Click for Data Data:</label>
  
      <input type="checkbox" id="myCheck1" onclick="myFunction1()">
      <!-- <p id="text" style="display:none">{% autoescape off %} {{ treatment_df_altered }} {% endautoescape %}</p> -->
      <span id="text2" style="display: none;">
        <!-- <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%"> -->
        <div class="card-body">
          <table id="example1" class="content-table" style="width:100%">
          <thead>

              <tr>
                  {% for column in CombinColumns %}
                  <th>{{ column }}</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
              {% if Combi_value_list %} {% for val in Combi_value_list %}
              <tr>
                  {% for v in val %}
                  <td>{{ v }}</td>
                  {% endfor %}
              </tr>

              {% endfor %} {% endif %}

          </tbody>
        </table>
        </div>
        </span>
  </div>

  <div class="graphTxt"style = "width:600px; height:800px">
      
      <canvas id="barchart" width="200px" height="200px"></canvas>
  </div>

</div>

<!--  Combinational DFS-->

<!-- Unique-->
<div>
  <div class="graph" style = "width:600px; height:800px">
      
      <canvas id="barchart1" width="200px" height="200px"></canvas>
  </div>
  <div class="graphTxt"style = "width:900px; height:800px">

    <p style="font-style: italic;">This the Graph represents Unique Combinational Data on Quartiles based on Q1.</p>
    <p style="font-style: italic;">To View the data check the Check boxes.</p>
      <label for="myCheck2">Click for Data Data:</label>
  
      <input type="checkbox" id="myCheck2" onclick="myFunction2()">
      <!-- <p id="text" style="display:none">{% autoescape off %} {{ treatment_df_altered }} {% endautoescape %}</p> -->
      <span id="text3" style="display: none;">
        <!-- <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%"> -->
        <div class="card-body">
          <table id="example2" class="content-table" style="width:100%">
          <thead>

              <tr>
                  {% for column in UnidfColumns %}
                  <th>{{ column }}</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
              {% if Unidf_value_list %} {% for val in Unidf_value_list %}
              <tr>
                  {% for v in val %}
                  <td>{{ v }}</td>
                  {% endfor %}
              </tr>

              {% endfor %} {% endif %}

          </tbody>
        </table>
        </div>
        </span>
      </div>
</div>



<!-- Unique Ends-->










<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>


<button class="bttn panel-trigger-right">Options</button>



<div id="panel2" class="panel panel-right">
    <div class="panel-container">
    <div class="panel-contents">
        <div class="panel-close-button"><img src="img/close.png"></div>
        <div class="tabs">
        <div class="tab">
            <input type="checkbox" checked class="accordion" checked id="chck1">
            <label class="tab-label" for="chck1">Source</label>
            <div class="tab-content">
            Source fields
            </div>
        </div>
        <div class="tab">
            <input type="checkbox" checked class="accordion" id="chck2">
            <label class="tab-label" for="chck2">Visuals</label>
            <div class="tab-content">
            Text 2<br>
            Text 2<br>
            Text 2<br>

            </div>
        </div>

        
        <div class="tab">
            <input type="checkbox" checked class="accordion" id="chck3">
            <label class="tab-label" for="chck3">Properties</label>
            <div class="tab-content">
            Text 3
            </div>
        </div>

        
        <div class="tab">
            <input type="checkbox" checked class="accordion" id="chck4">
            <label class="tab-label" for="chck4">Destination</label>
            <div class="tab-content">
            Text 3
            </div>
        </div>



        </div>
        <br><br>
    </div>
    </div>
    <div class="panel-close-button"><img src="img/close.png"></div>
</div>











<!-- Content Ends -->



<!-- RWD Menu Begins -->
<input type="checkbox" class="menu" id="op"></input>
<div class="lower">
    <label for="op"></label>
</div>

<div class="overlay overlay-hugeinc">
<label for="op"><img src="img/close.png"></label>

<section id="accordion5">
    <div>
        <input type="radio" checked name="accordion5-group" id="option-1" />
        <label for="option-1">Quant</label>
        <article>
        <div class="rwdMenu">
        <a href="strategy.htm">Strategy Manager</a>
        <a href="dataZen.htm">DataZen</a>
        <a href="tca.htm">Transaction Cost Analysis</a>
        <a href="engine.htm">Engine</a>
        <a href="output.htm">Output</a>
        <a href="visual.htm">Visualization</a>
        <a href="settings.htm">Settings</a>
        <a href="signout.htm">Sign-out</a>
        </div>
        </article>
    </div>
    <div>
        <input type="radio" name="accordion5-group" id="option-2" />
        <label for="option-2">Iris</label>
        <article>
        <p>2 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Unde, doloremque maiores excepturi iste porro cumque rem praesentium illo labore error quasi magni cupiditate rerum sequi dolores architecto consectetur harum soluta neque placeat culpa nesciunt molestias quam facilis ipsum ab aspernatur ut similique aperiam nemo tempore earum esse repellat provident eum blanditiis tempora molestiae! Optio, asperiores neque nam reiciendis ad rerum.</p>
        </article>
    </div>
    <div>
        <input type="radio" name="accordion5-group" id="option-3" />
        <label for="option-3">Synapse</label>
        <article>
        <p>3 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vel, ipsum ratione eos voluptates unde ut sint maiores nobis iste odit. Maiores, voluptatum, dolorem, deleniti debitis est ea numquam nesciunt in rerum fuga neque quas laudantium quo laboriosam doloremque nemo ab itaque aliquid accusamus accusantium veritatis consectetur necessitatibus iure soluta blanditiis facere quam aperiam suscipit obcaecati voluptatem tempore delectus temporibus culpa! Repellendus, maiores at itaque soluta voluptatum est iusto dolor ex fuga animi debitis necessitatibus consectetur. Dignissimos, optio, saepe, quos dolorum pariatur voluptatum quasi eveniet ipsam fugit accusantium voluptate ducimus cupiditate ullam nostrum unde eaque necessitatibus maxime sunt incidunt aliquid accusamus.</p>
        </article>
    </div>
</section>

</div>  <!-- RWD Menu Ends -->




</div>    <!-- Page Content ends -->



<script>


var list = $("#x_axis_treatment_list").val()

var chart = $('#dchart');
var myChart = new Chart(chart, {
    type: 'doughnut',
    
    legend: {
        horizontalAlign: "left", // left, center ,right 
        verticalAlign: "center",  // top, center, bottom
        },

    data: {
        labels: list.split(','),
        
        datasets: [{
            label: 'Company wise Shareprice Appriciation On Q1 Quartiles',
            
            data: JSON.parse("{{y_axis_treat}}"),
            backgroundColor: [
                'rgba(255, 111, 0, 0.8)',
               
                'rgba(255, 160, 0, 0.8)',
                'rgba(17, 61, 68)',
                'rgba(255, 193, 7, 0.8)',
                'rgba(255, 213, 79, 0.8)',
                'rgba(255, 224, 130, 0.8)',
                'rgba(10, 88, 99)',
            ],
            borderColor: [
                'rgba(255, 111, 0, 1)',
                'rgba(255, 160, 0, 1)',
                'rgba(255, 193, 7, 1)',
                'rgba(255, 213, 79, 1)',
                'rgba(255, 224, 130, 1)',
                'rgba(255, 160, 0, 1)',
                'rgba(255, 193, 7, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
    
        },
        
    }




    
});
var list = $("#x_axis_treatment_list").val()

var chart = $('#barchart');
var myChart = new Chart(chart, {
    type: 'bar',
    
    legend: {
        horizontalAlign: "left", // left, center ,right 
        verticalAlign: "center",  // top, center, bottom
        },

    data: {
        labels: JSON.parse("{{x_axis_com}}"),
        
        datasets: [{
            label: 'Combinationals Data on Quartiles based on Q1',
            
            data: JSON.parse("{{y_axis_com}}"),
            backgroundColor: [
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
                'rgba(17, 61, 68)',
            ],
            borderColor: [
                'rgba(255, 111, 0, 1)',
                'rgba(255, 160, 0, 1)',
                'rgba(255, 193, 7, 1)',
                'rgba(255, 213, 79, 1)',
                'rgba(255, 224, 130, 1)',
                'rgba(255, 160, 0, 1)',
                'rgba(255, 193, 7, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
    
        },
        
    }




    
});

var list = $("#x_axis_treatment_list").val()

var chart = $('#barchart1');
var myChart = new Chart(chart, {
    type: 'bar',
    
    legend: {
        horizontalAlign: "left", // left, center ,right 
        verticalAlign: "center",  // top, center, bottom
        },

    data: {
        labels: JSON.parse("{{x_axis_unique}}"),
        
        datasets: [{
            label: 'Q1 Companies',
            fillColor: "#48A497",
            strokeColor: "#48A4D1",
            data: JSON.parse("{{y_axis_unique}}"),
            backgroundColor: [
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
            'rgba(10, 88, 99)',
        ],
        borderColor: [
            'rgba(255, 111, 0, 1)',
            'rgba(255, 160, 0, 1)',
            'rgba(255, 193, 7, 1)',
            'rgba(255, 213, 79, 1)',
            'rgba(255, 224, 130, 1)',
            'rgba(255, 160, 0, 1)',
            'rgba(255, 193, 7, 1)'
        ],

            
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
    
        },
        
    }




    
});


function myFunction() {
    var checkBox = document.getElementById("myCheck");
    var text = document.getElementById("text1");
    if (checkBox.checked == true){
      text.style.display = "block";
    } else {
       text.style.display = "none";
    }
  }

  
function myFunction1() {
  var checkBox1 = document.getElementById("myCheck1");
  var text = document.getElementById("text2");
  if (checkBox1.checked == true){
    text.style.display = "block";
  } else {
     text.style.display = "none";
  }
}

function myFunction2() {
  var checkBox2 = document.getElementById("myCheck2");
  var text = document.getElementById("text3");
  if (checkBox2.checked == true){
    text.style.display = "block";
  } else {
     text.style.display = "none";
  }
}





</script>

{% endblock %}   